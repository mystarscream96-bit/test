<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Halı Saha PRO – V16 Final</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<!-- Upload.io -->
<script src="https://js.upload.io/upload-js/v2"></script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<!-- CSS -->
<link rel="stylesheet" href="style.css">

</head>
<body>

<!-- GLOBAL BİLDİRİM -->
<div id="notify" class="notify">Kaydedildi</div>

<div class="bg"></div>

<!-- LOGIN -->
<!-- LOGIN -->
<div id="login" class="page active login-box">
    <h2>Giriş Yap</h2>

    <!-- CUSTOM LOGIN SELECT -->
    <div class="custom-select" id="loginUserSelect" data-id="loginUser">
        <div class="custom-display">Kullanıcı Seç</div>
        <div class="custom-options"></div>
    </div>

    <button class="btn" onclick="login()">Giriş Yap</button>

    <div class="login-divider"></div>

    <input id="adminPass" type="password" placeholder="Admin Şifre">
    <button class="btn" onclick="adminLogin()">Admin Girişi</button>
</div>




<!-- NAVIGATION -->
<div id="navbar" class="nav" style="display:none;">

    <!-- Profil sadece kullanıcıya gösterilecek -->
    <button id="profilBtn" class="nav-btn" onclick="showPage('profilim')">Profilim</button>
    <button class="nav-btn" onclick="showPage('oyuncular')">Oyuncular</button>
	<button class="nav-btn" onclick="showPage('haftaninKadro')">Haftanın Kadrosu</button>
    <button class="nav-btn" onclick="showPage('puan')">Puan Ver</button>
    <button class="nav-btn" onclick="showPage('gecmis')">Puan Geçmişi</button>
    <button class="nav-btn" onclick="showPage('golKr')">Gol Krallığı</button>
    <button class="nav-btn" onclick="showPage('kazananlar')">Kazananlar</button>
    <button class="nav-btn" onclick="showPage('eniyi')">En İyi Oyuncular</button>

    <!-- Admin’e özel -->
	<button id="kadroBtn" class="nav-btn" onclick="showPage('kadro')">Kadro Düzenleme</button>
    <button id="adminBtn" class="nav-btn admin-only" style="display:none;" onclick="showPage('admin')">Admin Paneli</button>
    <button id="gaBtn" class="nav-btn admin-only" style="display:none;" onclick="showPage('gaYonetim')">Gol Yönetimi</button>
    <button id="winBtn" class="nav-btn admin-only" style="display:none;" onclick="showPage('winYonetim')">Kazanan Yönetimi</button>

    <!-- Çıkış -->
    <button class="nav-btn logout-btn" onclick="logout()">Çıkış</button>
</div>

<!-- PROFİL EKRANI -->
<div id="profilim" class="page active">
    <h2>Profilim</h2>

    <div class="profil-box">

        <!-- --- SOL TARAF (FUT KART + FOTO GÜNCELLEME) --- -->
        <div class="profil-left">

    <div class="fut-card">

    <img class="fut-bg" src="https://i.hizliresim.com/j07s1f1.png">

    <div class="fut-top">
        <div class="fut-ovr" id="fifa-overall">0</div>
        <div class="fut-pos" id="fifa-position">-</div>
    </div>

  

    <div class="fut-name" id="fifa-name">OYUNCU</div>

    <div class="fut-stats">
        <div><b id="fifa-hiz"></b> HIZ</div>
        <div><b id="fifa-sut"></b> ŞUT</div>
        <div><b id="fifa-pas"></b> PAS</div>
        <div><b id="fifa-kondisyon"></b> KON</div>
        <div><b id="fifa-defans"></b> DEF</div>
        <div><b id="fifa-fizik"></b> FİZ</div>
    </div>

</div>


   <div class="photo-actions">

    <input id="profilUpload" type="file" accept="image/*" hidden>

    <button id="selectFileBtn" class="btn">
        Dosya Seç
    </button>

    <button class="btn" onclick="updatePhoto()">
        Fotoğrafı Güncelle
    </button>

</div>

</div>


        <!-- --- SAĞ TARAF (MEVKİ SEÇİM) --- -->
        <div class="profil-right">
            <div class="fm-wrapper">

                <div class="fm-field">
                    <div class="fm-card" data-pos="ST" data-name="Santrafor">Santrafor</div>
                    <div class="fm-card" data-pos="CM" data-name="Merkez Orta">Merkez Orta</div>
                    <div class="fm-card" data-pos="LW" data-name="Sol Kanat">Sol Kanat</div>
                    <div class="fm-card" data-pos="RW" data-name="Sağ Kanat">Sağ Kanat</div>
                    <div class="fm-card" data-pos="LB" data-name="Sol Bek">Sol Bek</div>
                    <div class="fm-card" data-pos="CB" data-name="Stoper">Stoper</div>
                    <div class="fm-card" data-pos="RB" data-name="Sağ Bek">Sağ Bek</div>
                    <div class="fm-card" data-pos="GK" data-name="Kaleci">Kaleci</div>
                </div>

                <div class="fm-selection">
                    <div class="fm-input-group">
                        <label>Asıl Mevki</label>
                        <input id="mainPos" readonly>
                    </div>

                    <div class="fm-input-group">
                        <label>Yedek Mevki</label>
                        <input id="subPos" readonly>
                    </div>

                    <button class="btn" onclick="savePositions()">Mevkileri Kaydet</button>
                </div>

            </div>
        </div>

    </div>
</div>












<!-- OYUNCULAR -->
<div id="oyuncular" class="page">
    <h2>Oyuncular</h2>
    <div id="oyuncuListe" class="card-grid"></div>
	<div id="rateModal" class="modal">
    <div class="modal-content">

        <h2 id="ratePlayerName"></h2>

        <label>Şut</label>
        <input type="number" id="rate-sut" min="0" max="100">

        <label>Pas</label>
        <input type="number" id="rate-pas" min="0" max="100">

        <label>Kondisyon</label>
        <input type="number" id="rate-kond" min="0" max="100">

        <label>Hız</label>
        <input type="number" id="rate-hiz" min="0" max="100">

        <label>Fizik</label>
        <input type="number" id="rate-fizik" min="0" max="100">

        <label>Defans</label>
        <input type="number" id="rate-def" min="0" max="100">

        <label>Oyun Görüşü</label>
        <input type="number" id="rate-oyunGorusu" min="0" max="100">

        <button id="saveRating">Kaydet</button>
        <button onclick="closeRatePanel()">Kapat</button>
    </div>
</div>
</div>



<!-- SAYFA KAPANIŞ / AÇILIŞ SİSTEMİ İÇİN GEREKEN DOĞRU YAPI -->
<div id="haftaninKadro" class="page">

    <div class="haftaninLayout">

        <!-- SOL: A Takımı -->
        <div class="teamBox leftBox">
            <h3>A Takımı</h3>
            <div id="haftaTeamA" class="hk-list"></div>
        </div>

        <!-- ORTA: SAHA -->
        <div class="fieldCenter">
            <div id="fieldContainer">
                <img src="https://i.hizliresim.com/272vnxd.jpg" id="fieldImg">
                <div id="playersOnField"></div>
            </div>
        </div>

        <!-- SAĞ: B Takımı -->
        <div class="teamBox rightBox">
            <h3>B Takımı</h3>
            <div id="haftaTeamB" class="hk-list"></div>
        </div>

    </div>

</div>







<!-- KADRO OLUŞTUR -->
<div id="kadro" class="page">
    <h2>Kadro Oluştur</h2>

    <div class="kadroWidget">

        <label>Maça Gelecek 16 Oyuncu</label>
<div id="kadroPlayerGrid" class="player-grid"></div>


        <div class="gkRow">
            <label>A Takımı Kalecisi</label>
<div class="custom-select" id="gkASelect" data-id="gkA">
    <div class="custom-display">Kaleci Seç</div>
    <div class="custom-options"></div>
</div>


            <label>B Takımı Kalecisi</label>
<div class="custom-select" id="gkBSelect" data-id="gkB">
    <div class="custom-display">Kaleci Seç</div>
    <div class="custom-options"></div>
</div>

        </div>

        <button id="buildBtn">KADROYU OLUŞTUR</button>



    </div>
</div>



<!-- PUAN VER -->
<div id="puan" class="page">
    <h2>Puan Ver</h2>

    <div class="custom-select" data-id="puanTarget">
        <div class="custom-display">Oyuncu Seç</div>
        <div class="custom-options"></div>
    </div>

    <input id="puanValue" type="number" placeholder="Puan (1–10)">
    <button class="btn" onclick="puanGonder()">Gönder</button>
</div>


<!-- GEÇMİŞ -->
<div id="gecmis" class="page">
    <h2>Puan Geçmişi</h2>
    <ul id="gecmisList"></ul>
</div>


<!-- GOL KRALLIĞI -->
<div id="golKr" class="page">
    <h2>Gol Krallığı</h2>
    <div id="golList" class="kr-list"></div>
</div>





<!-- KAZANANLAR -->
<div id="kazananlar" class="page">
    <h2>En Çok Kazananlar</h2>
    <div id="kazananList" class="kr-list"></div>
</div>


<!-- EN İYİ OYUNCULAR -->
<div id="eniyi" class="page">
    <h2>En İyi Oyuncular</h2>
    <div id="eniyiList" class="kr-list"></div>
</div>


<!-- ADMIN PANELİ -->
<div id="admin" class="page">
    <h2>Admin Paneli</h2>

    <h3>Oyuncu Ekle</h3>
    <input id="newPlayerName" placeholder="Oyuncu Adı">
    <input id="newPlayerPhoto" type="file" accept="image/*">
    <button class="btn" onclick="addPlayer()">Oyuncu Ekle</button>

    <h3>Oyuncu Sil</h3>

    <div class="custom-select" data-id="deleteUser">
        <div class="custom-display">Oyuncu Seç</div>
        <div class="custom-options"></div>
    </div>

    <button class="btn" onclick="deletePlayer()">Sil</button>

    <h3>Tüm Puanları Sıfırla</h3>
    <button class="btn danger" onclick="resetAllPoints()">Puanları Sıfırla</button>
</div>


<!-- GOL / ASİST Yönetimi -->
<div id="gaYonetim" class="page">
    <h2>Gol Yönetimi</h2>

    <div class="custom-select" data-id="gaPlayer">
        <div class="custom-display">Oyuncu Seç</div>
        <div class="custom-options"></div>
    </div>

    <input id="gaGol" type="number" placeholder="Gol">
    <button class="btn" onclick="ekleGolAsist()">Kaydet</button>
</div>


<!-- KAZANAN YÖNETİMİ -->
<div id="winYonetim" class="page">
    <h2>Kazanan Yönetimi</h2>

    <div class="custom-multi" data-id="winnerSelect">
        <div class="multi-selected"></div>
        <div class="custom-options"></div>
    </div>

    <button class="btn" onclick="kazananKaydet()">Kaydet</button>
</div>


<script src="firebase.js"></script>
<script src="app.js"></script>

</body>
</html>
